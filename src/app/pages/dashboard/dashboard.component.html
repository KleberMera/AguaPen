@if (loading) {
  <div class="loading-container p-d-flex p-jc-center p-ai-center p-flex-column">
    <p>Cargando Dashboard...</p>
    <p-progressSpinner
      ariaLabel="loading"
      styleClass="w-4rem h-4rem p-mb-4"
      strokeWidth="8"
      fill="var(--surface-ground)"
    ></p-progressSpinner>
  </div>
  
  } @else {
  <h1 class="text-4xl font-bold text-primary title">
    Hola, {{ nombres }} {{ apellidos }}
  </h1>
  <div class="grid">
    <div class="col-12 lg:col-6 xl:col-3">
      <div class="card mb-0">
        <div class="flex justify-content-between mb-3">
          <div>
            <span class="block text-500 font-medium mb-3">Vehiculos</span>
            <div class="text-900 font-medium">{{ totalvehiculos }}</div>          
          </div>
          <div
            class="flex align-items-center justify-content-center bg-blue-100 border-round"
            [style]="{ width: '2.5rem', height: '2.5rem' }"
          >
            <i class="pi pi-car text-blue-500 text-xl"></i>
          </div>
        </div>
        <div>
          <div class="flex align-items-center justify-content">
            <div class="font-bold flex align-items-center justify-content-center">
              <p-button pRipple label="Visualizar" outlined="true" (click)="navigateTo('home/vehiculos')" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-12 lg:col-6 xl:col-3">
      <div class="card mb-0">
        <div class="flex justify-content-between mb-3">
          <div>
            <span class="block text-500 font-medium mb-3">Productos</span>
            <div class="text-900 font-medium">{{ totalProductos }}</div>
          </div>
          <div
            class="flex align-items-center justify-content-center bg-blue-100 border-round"
            [style]="{ width: '2.5rem', height: '2.5rem' }"
          >
            <i class="pi pi-shopping-cart text-blue-500 text-xl"></i>
          </div>
        </div>
        <div>
          <div class="flex align-items-center justify-content">
            <div class="font-bold flex align-items-center justify-content-center">
              <p-button pRipple label="Visualizar" outlined="true" (click)="navigateTo('home/productos')" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-12 lg:col-6 xl:col-3">
      <div class="card mb-0">
        <div class="flex justify-content-between mb-3">
          <div>
            <span class="block text-500 font-medium mb-3">Áreas</span>
            <div class="text-900 font-medium">{{ totalAreas }}</div>
          </div>
          <div
            class="flex align-items-center justify-content-center bg-orange-100 border-round"
            [style]="{ width: '2.5rem', height: '2.5rem' }"
          >
            <i class="pi pi-map-marker text-orange-500 text-xl"></i>
          </div>
        </div>
        <div>
          <div class="flex align-items-center justify-content">
            <div class="font-bold flex align-items-center justify-content-center">
              <p-button pRipple label="Visualizar" outlined="true" (click)="navigateTo('home/areas')" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-12 lg:col-6 xl:col-3">
      <div class="card mb-0">
        <div class="flex justify-content-between mb-3">
          <div>
            <span class="block text-500 font-medium mb-3">Trabajadores</span>
            <div class="text-900 font-medium">{{ totalUsuarios }}</div>
          </div>
          <div
            class="flex align-items-center justify-content-center bg-cyan-100 border-round"
            [style]="{ width: '2.5rem', height: '2.5rem' }"
          >
            <i class="pi pi-users text-cyan-500 text-xl"></i>
          </div>
        </div>
        <div>
          <div class="flex align-items-center justify-content">
            <div class="font-bold flex align-items-center justify-content-center">
              <p-button pRipple label="Visualizar" outlined="true" (click)="navigateTo('home/trabajadores')" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-12 xl:col-6">
      <h3>Asignaciones por Áreas</h3>
      <div class="card">
        <p-table
          [value]="areas"
          [paginator]="true"
          [rows]="4"
          [rowsPerPageOptions]="[4, 5, 6]"
        >
          <ng-template pTemplate="header">
            <tr>
              <th>Áreas</th>
              <th>Productos</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-area>
            <tr>
              <td>{{ area.nombre_area }}</td>
              <td>{{ area.nombre_producto }}</td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
    <div class="col-12 xl:col-6">
      <h3>Productos con menos stock</h3>
      <div class="card flex flex-column align-items-center">
        <p-chart type="doughnut" [data]="chartData"></p-chart>
      </div>
    </div>
  </div>
  }
  